(this["webpackJsonptweeter-frontend"]=this["webpackJsonptweeter-frontend"]||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),l=a(16),u=a(153),i=a(154),s=a(142),m=a(145),f=a(147),p=a(148),d=a(64),b=a.n(d),h=a(149),v=a(156),E=a(66),g=Object(s.a)((function(e){return{root:{flexGrow:1},navbar:{backgroundColor:"#009688"},title:{flexGrow:1}}})),x=function(e){var t=e.onUserSelect,a=g(),c=Object(n.useState)(null),o=Object(l.a)(c,2),u=o[0],i=o[1],s=Boolean(u);return r.a.createElement("div",{className:a.root},r.a.createElement(m.a,{position:"static",className:a.navbar},r.a.createElement(f.a,null,r.a.createElement(p.a,{variant:"h6",className:a.title},"Tweeter"),r.a.createElement(h.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},r.a.createElement(b.a,null)),r.a.createElement(E.a,{id:"menu-appbar",anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:function(){i(null)}},r.a.createElement(v.a,{onClick:function(){return t({username:"amandarox",userId:"5ef13e815ef5f18db0a93ab3"})}},"amandarox"),r.a.createElement(v.a,{onClick:function(){return t({username:"TerrificTuzag",userId:"5ef13e935ef5f18db0a93ab4"})}},"TerrificTuzag"),r.a.createElement(v.a,{onClick:function(){return t({username:"HollaForHealthcare",userId:"5ef13eb55ef5f18db0a93ab5"})}},"HollaForHealthcare")))))},w=a(67),j=a(14),y=a.n(j),O=a(22),k=a(44),C=a.n(k),S=function(){var e=Object(O.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/tweets/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("/api/tweets/",{tweetContent:t,userId:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),I=a(150),T=a(151),B=a(157),U=Object(s.a)({container:{width:"80%"},card:{minWidth:275,marginBottom:20,backgroundColor:"#fafafa",boxShadow:"2px 2px 8px #e0e0e0"},cardMetadata:{display:"flex",alignItems:"center",marginTop:15,flexWrap:"wrap"},username:{color:"#5635b2",fontWeight:600,marginLeft:10},bullet:{margin:"0 20px"},avatar:{backgroundColor:"#5635b2",color:"#ffffff",fontWeight:400}}),W=function(e){var t=e.tweets,a=U();return r.a.createElement("div",{className:a.container},t.map((function(e){return r.a.createElement(I.a,{className:a.card,variant:"outlined",key:e.id},r.a.createElement(T.a,null,r.a.createElement(p.a,{variant:"body1"},e.tweetContent),r.a.createElement("span",{className:a.cardMetadata},r.a.createElement(B.a,{className:a.avatar},e.user.username.charAt(0).toUpperCase()),r.a.createElement(p.a,{className:a.username},e.user.username),r.a.createElement(p.a,{color:"textSecondary"},r.a.createElement("span",{className:a.bullet},"\u2022"),new Date(e.created).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})))))})))},D=a(155),F=a(152),z=Object(s.a)({container:{marginBottom:30},tweetBox:{marginBottom:"15px 0"},tweetButton:{margin:"10px 0"},charCount:{color:"#8a8a8a"}}),H=function(e){var t=e.currentUser,a=e.onFormSubmit,c=z(),o=Object(n.useState)(""),u=Object(l.a)(o,2),i=u[0],s=u[1],m=Object(n.useState)(0),f=Object(l.a)(m,2),d=f[0],b=f[1],h=Object(n.useRef)();Object(n.useEffect)((function(){h.current.style.color=d>=240?"red":"#8a8a8a"}),[d]);var v=function(){var e=Object(O.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!(d<=240)){e.next=9;break}return e.next=5,N(i,t.userId);case 5:r=e.sent,a(r),s(""),b(0);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:c.container,onSubmit:v},r.a.createElement(D.a,{label:"Share your thoughts",multiline:!0,rows:4,variant:"outlined",className:c.tweetBox,onChange:function(e){s(e.target.value),b(e.target.value.length)},value:i,autoFocus:!0,fullWidth:!0,inputProps:{maxLength:"240"}}),r.a.createElement(p.a,{variant:"body1",className:c.charCount,ref:h},"".concat(d,"/240")),r.a.createElement(F.a,{variant:"contained",className:c.tweetButton,onClick:v},"Tweet It!"))},L=Object(s.a)({userSelectionText:{margin:"15px 0"},fullWidth:{width:"90%"}}),M=function(e){return e.sort((function(e,t){return new Date(t.created)-new Date(e.created)}))},A=function(e){var t=e.currentUser,a=L(),c=Object(n.useState)([]),o=Object(l.a)(c,2),i=o[0],s=o[1];Object(n.useEffect)((function(){(function(){var e=Object(O.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:t=e.sent,s(M(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return r.a.createElement(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},t?r.a.createElement("div",{className:a.fullWidth},r.a.createElement(p.a,{variant:"body1",color:"secondary",className:a.userSelectionText},"Logged in as: ",t.username),r.a.createElement(H,{currentUser:t,onFormSubmit:function(e){var t=[].concat(Object(w.a)(i),[e]);s(M(t))}})):r.a.createElement(p.a,{variant:"body1",color:"secondary",className:a.userSelectionText},"Select a user from the icon in the navbar to tweet."),r.a.createElement(W,{tweets:i}))},G=a(65),J=a.n(G),R=Object(s.a)({footer:{height:"10vh",backgroundColor:"#009688",color:"#ffffff",padding:30,display:"flex",justifyContent:"center",alignItems:"center"},copyrightIcon:{marginRight:5}}),P=function(){var e=R();return r.a.createElement("div",{className:e.footer},r.a.createElement(J.a,{className:e.copyrightIcon}),r.a.createElement(p.a,{variant:"body1"},(new Date).getFullYear()," - Made by Amanda Cox"))},V=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement(u.a,{container:!0,direction:"column",justify:"center",spacing:1},r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(x,{onUserSelect:function(e){c(e)}})))),r.a.createElement("main",null,r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(i.a,{maxWidth:"lg"},r.a.createElement(A,{currentUser:a})))),r.a.createElement("footer",null,r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(P,null))))};o.a.render(r.a.createElement(V,null),document.getElementById("root"))},76:function(e,t,a){e.exports=a(103)}},[[76,1,2]]]);
//# sourceMappingURL=main.648796e2.chunk.js.map